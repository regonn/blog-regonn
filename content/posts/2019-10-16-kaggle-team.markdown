---
title: "Kaggleコンペにチームで挑戦する時に工夫したこと"
date: 2019-10-16 9:00:00 +0900
categories: "data-science"
slug: "data-science"
tags:
  - "kaggle"
desc: "Kaggleのコンペに最初からチームを組んで挑んでみたので、工夫したこと等"
keywords: "データサイエンス,Kaggle"
---

Kaggleのコンペって、周りに一緒にやってくれる人がいないと孤独な戦いになりやすいですよね。かといって、チームにマージされるほどの実力も無いので、最初からチームメンバーを募集して、Kaggleの [IEEEコンペ](https://www.kaggle.com/c/ieee-fraud-detection) に挑戦してみました。チームメンバーを募集するところから、やっていく中での気付き等をまとめておこうと思います。

## 私の紹介

- れごん [@regonn_haizine](https://twitter.com/regonn_haizine)
- 島根県松江市に住んでるWebフリーランス
- データサイエンスのPodcastやってます [regonn&curry.fm](https://anchor.fm/regonn-curry-fm)
- 挑戦するときは Kaggle のコンペに参加したことはあるものの、メダルは0枚

## 仲間集め

仲間集めは、丁度最近 [データラーニングギルド](https://data-learning.com/guild) というコミュニティに所属したのもあって、そこの Slack で募集しました。

Kaggler の日本人コミュニティの Kaggler-ja とかでも、募集してみると色んな人が集まるかもしれませんね。

募集したあとに、やってるデータサイエンスPodcastのDiscordチャンネル作ったので、こちらでも、今後は募集するかもしれません。[かぐるーど](https://discord.gg/2Jf95W4)

### 仲間集めで注意したこと

IEEEコンペのチームは最大5人なので、もし応募が多すぎたら、抽選とかでも嫌なので、募集は Google Form で次のような項目を追加しておきました。

- レベル感
  - 色んな人が応募してきた際に、チーム分けをしやすくするため、レベル感を聞いておく
    - 機械学習始めたて(半年位)
    - Python, Rのどちらかを読んだり書いたりできる
    - 業務や研究で統計知識がある
    - Kaggleコンペメダルを持ってます
- 希望者が多い場合にはチームのリーダーをやってもいいか?
  - 分ける場合にリーダーをやってもいいか聞いておく、データサイエンスの能力よりも、学生などでコンペ期間中に参加しやすさで決めてもらった

また、参加表明フォームには次のような注意書きもしておきました。

- 試験的な取り組みなため、途中で色々と変更があったり変則的になる可能性があります
- 場合によっては、チーム機能が上手く働かずソロプレイのような状態になってしまってもご了承ください
- Kaggleの特性上、異なるチーム間での情報共有やSlackでのノウハウ共有は行なえません

自分も含めてタダ乗りライダー的な人が出てくるかもしれないけど、許してねとも注意しておきました。

## 初回キックオフ
これから1ヶ月以上戦っていく仲間なので、一度Zoomに集まって、初回のキックオフを行いました。全員が近場ならオフラインでもいいですが、私が島根県で離れているので、オンラインで開催しています。
後でも書きますが、普段のタスク管理はTrelloで行う予定だったので操作に慣れてもらうため、自己紹介をカードに記入(テンプレートは用意しておいた)してもらったりもしました。

## 普段の活動内容

- 普段のやり取り
  - プライベートSlackチャンネル
    - コミュニケーションを取れるように

もともと、私がWebエンジニアでアジャイルやスクラム開発等もかじった程度ですがやったことがあったので参考にしつつ、1スプリントを1週間のような感じで活動してみました。

- 定例会
  - 週1回Zoomに集まって次のことを話しました
    - 現状のリーダーボードでメダル圏やベースライン等を確認
    - 各個人でこの1週間やったこと
    - 気になったノートブック、ディスカッション
    - 各個人で次の1週間やること

## タスク管理(Trello)

やることとか、良かったカーネルをカードにしたり、ベースラインやメダル圏内がどこら辺にあるかリストを作ったりしてました

<amp-img src="/images/2019-10-14-trello.png" alt="" width="1919" height="549" layout="responsive" ></amp-img>

## コード管理
コードは Github のプライベートリポジトリを作って、各自別ブランチで進めていく方針にしましたが、これはあまり良くなかったです。
データや特徴量が管理できなかったり、KaggleのNotebookを使ったり、バージョンが色々分裂したりもするので、ここらへんは改善が必要そうです。

## 良い点・悪い点

### 良かったところ

#### 最初からデータについて議論することができる
一人でやると、何から手を付けようかとか、一人でデータを解析(EDA)していかないといけませんが、最初からチームなので、他のEDA Notebookを議論しながら読み進めていく等できて、データへの理解なども深まり良かったです。

#### 一人では収集しきれないディスカッションの話題も拾える
一人でやってると時間も限られてくるので、

#### 普段Kaggle触ってない人がKaggleの機能を使いこなせるようになり無駄な時間が減る
統計等の知識はあるけど、Kaggleの操作に慣れていない人に、こちらの画面を見せながら説明することで、その人がKaggleの操作で躓いて無駄な時間を作らないようにサポートできました。(カーネルのアウトプットファイルからサブミットする方法とか)

#### 分業とかもできる
得意分野が上手く分かれたりすれば、特徴量作る人とかローカルCV作る人とか分業ができたところが良かったです。あまり、時間が取れない人も、Discussionを追ってもらったりとかしました。

### 悪かった点
#### 途中で脱落する人も出てくる
レベル差を感じたり、仕事が忙しくて、途中で抜けてしまう人も出てきてしまいました。
ここらへんはある程度仕方ないとは思いますが、抜けなくても大丈夫だということを初回の説明等で、もう少し伝えていれば良かったかなとも思ってます。

#### 何も成績がでないと辛いものがある
コンペの中盤あたりは、新しく特徴量を作ったりしてましたが、なかなかチームでのPublicスコアが改善せず、一人でやる以上に辛さを感じた気もします。

## 結果
約1ヶ月半位の死闘の末、終盤にメンバーの学生の一人が猛烈にスコアを上げてくれたこともあって、 **銀メダル** を取得することができました。

## 所感と今後
なんとかメダルも獲得することができて、良かったです。自分の反省では、コンペの後半での動きがガバガバで全然スコアアップに貢献できていなかったので、課題も見えてきました。今回はテーブルデータのコンペでしたが、画像コンペでもやってみたいですし、最近 [Kaggle本](https://amzn.to/2oLxpF7) も出たので、テーブルコンペでまたやってみようかなと思いました。

みなさんもチームでのコンペ参加を検討してみてはどうでしょうか?
